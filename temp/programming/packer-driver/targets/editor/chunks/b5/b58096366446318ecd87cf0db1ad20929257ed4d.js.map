{"version":3,"sources":["file:///C:/Users/zzx/Desktop/mygame/assets/scripts/gameStart.ts"],"names":["_decorator","Component","instantiate","Label","Node","Prefab","Sprite","tools","main","AudioManager","ccclass","property","gameStart","start","instant","i","node","rank_prefab","parent","contentNode","script","getComponent","initRank","userData","headIndex","userName","nickName","rank","setPosition","setUserData","setLevelBtn","inst","play","backMusic","headName","string","headRank","userRank","mjLevelLabel","level","getInstant","hide","active","show","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, instantiate, Label, Node, Prefab, Sprite, SpriteFrame } from 'cc';\r\nimport tools from './tools';\r\nimport { main } from './main';\r\nimport { AudioManager } from './audioManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('gameStart')\r\nexport class gameStart extends Component {\r\n\r\n    @property(Node)\r\n    contentNode: Node;\r\n\r\n    @property(Label)\r\n    mjLevelLabel: Label;\r\n\r\n    @property(Prefab)\r\n    rank_prefab: Prefab | null = null;\r\n\r\n    @property(Sprite)\r\n    headImg: Sprite;\r\n\r\n    @property(Label)\r\n    headName: Label;\r\n\r\n    @property(Label)\r\n    headRank: Label;\r\n\r\n    static instant = null;\r\n\r\n    start() {\r\n        gameStart.instant = this;\r\n        for (let i = 0; i < 12; i++) {\r\n            let node = instantiate(this.rank_prefab);\r\n            node.parent = this.contentNode;\r\n            let script = node.getComponent(\"rankItem\");\r\n            script.initRank(tools.userData[i].headIndex, tools.userData[i].userName, tools.userData[i].nickName, tools.userData[i].rank);\r\n            node.setPosition(-300.256, i * -135);\r\n        }\r\n        //初始化用户数据\r\n        this.setUserData();\r\n        this.setLevelBtn();\r\n\r\n        AudioManager.inst.play(main.instant.backMusic);\r\n    }\r\n\r\n    //设置用户数据\r\n    setUserData() {\r\n        //this.headImg = null;\r\n        this.headName.string = tools.userName;\r\n        this.headRank.string = tools.userRank;\r\n    }\r\n\r\n    //设置关卡按钮\r\n    setLevelBtn() {\r\n        //let spriteFrame = main.getInstant().mjAtlas.getSpriteFrame('mj_' + tools.level);\r\n        this.mjLevelLabel.string = '第 ' + tools.level + ' 关';\r\n    }\r\n\r\n    static getInstant() {\r\n        if (gameStart.instant == null) {\r\n            gameStart.instant = new gameStart();\r\n        }\r\n        return gameStart.instant\r\n    }\r\n\r\n    hide() {\r\n        gameStart.instant.node.active = false;\r\n    }\r\n\r\n    show() {\r\n        gameStart.instant.node.active = true;\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n"]}