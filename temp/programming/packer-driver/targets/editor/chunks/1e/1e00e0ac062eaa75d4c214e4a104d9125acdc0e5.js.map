{"version":3,"sources":["file:///C:/Users/zzx/Desktop/myGameMj/assets/scripts/gameStart.ts"],"names":["_decorator","Component","instantiate","Label","Node","Prefab","Sprite","tools","main","ccclass","property","gameStart","start","instant","i","node","rank_prefab","parent","contentNode","script","getComponent","initRank","userData","headIndex","userName","nickName","rank","setPosition","setUserData","setLevelBtn","headName","string","headRank","userRank","spriteFrame","getInstant","mjAtlas","getSpriteFrame","level","mjsprite","hide","active","show","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, instantiate, Label, Node, Prefab, Sprite, SpriteFrame } from 'cc';\r\nimport tools from './tools';\r\nimport { main } from './main';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('gameStart')\r\nexport class gameStart extends Component {\r\n\r\n    @property(Node)\r\n    contentNode: Node;\r\n\r\n    @property(Sprite)\r\n    mjsprite: Sprite;\r\n\r\n    @property(Prefab)\r\n    rank_prefab: Prefab | null = null;\r\n\r\n    @property(Sprite)\r\n    headImg: Sprite;\r\n\r\n    @property(Label)\r\n    headName: Label;\r\n\r\n    @property(Label)\r\n    headRank: Label;\r\n\r\n    static instant = null;\r\n\r\n    start() {\r\n        gameStart.instant = this;\r\n        for (let i = 0; i < 12; i++) {\r\n            let node = instantiate(this.rank_prefab);\r\n            node.parent = this.contentNode;\r\n            let script = node.getComponent(\"rankItem\");\r\n            script.initRank(tools.userData[i].headIndex, tools.userData[i].userName, tools.userData[i].nickName, tools.userData[i].rank);\r\n            node.setPosition(-300.256, i * -125);\r\n        }\r\n        //初始化用户数据\r\n        this.setUserData();\r\n        this.setLevelBtn();\r\n    }\r\n\r\n    //设置用户数据\r\n    setUserData() {\r\n        //this.headImg = null;\r\n        this.headName.string = tools.userName;\r\n        this.headRank.string = tools.userRank;\r\n    }\r\n\r\n    //设置关卡按钮\r\n    setLevelBtn() {\r\n        let spriteFrame = main.getInstant().mjAtlas.getSpriteFrame('mj_' + tools.level);\r\n        this.mjsprite.spriteFrame = spriteFrame;\r\n    }\r\n\r\n    static getInstant() {\r\n        if (gameStart.instant == null) {\r\n            gameStart.instant = new gameStart();\r\n        }\r\n        return gameStart.instant\r\n    }\r\n\r\n    hide() {\r\n        gameStart.instant.node.active = false;\r\n    }\r\n\r\n    show() {\r\n        gameStart.instant.node.active = true;\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n"]}