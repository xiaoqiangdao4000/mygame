{"version":3,"sources":["file:///Users/zzx/Desktop/mygame/assets/scripts/gameStart.ts"],"names":["_decorator","Component","instantiate","Label","Node","Prefab","Sprite","tools","main","ccclass","property","gameStart","start","instant","i","node","rank_prefab","parent","contentNode","script","getComponent","initRank","userData","headIndex","userName","nickName","rank","setPosition","setUserData","setLevelBtn","headName","string","headRank","userRank","spriteFrame","getInstant","mjAtlas","getSpriteFrame","level","desktopItemCount","mjsprite","hide","active","show","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, instantiate, Label, Node, Prefab, Sprite, SpriteFrame } from 'cc';\nimport tools from './tools';\nimport { main } from './main';\nconst { ccclass, property } = _decorator;\n\n@ccclass('gameStart')\nexport class gameStart extends Component {\n\n    @property(Node)\n    contentNode: Node;\n\n    @property(Sprite)\n    mjsprite: Sprite;\n\n    @property(Prefab)\n    rank_prefab: Prefab | null = null;\n\n    @property(Sprite)\n    headImg: Sprite;\n\n    @property(Label)\n    headName: Label;\n\n    @property(Label)\n    headRank: Label;\n\n    static instant = null;\n\n\n    start() {\n        gameStart.instant = this;\n        for (let i = 0; i < 12; i++) {\n            let node = instantiate(this.rank_prefab);\n            node.parent = this.contentNode;\n            let script = node.getComponent(\"rankItem\");\n            script.initRank(tools.userData[i].headIndex, tools.userData[i].userName, tools.userData[i].nickName, tools.userData[i].rank);\n            node.setPosition(-300.256, i * -125);\n        }\n        //初始化用户数据\n        this.setUserData();\n        this.setLevelBtn();\n\n    }\n\n    //设置用户数据\n    setUserData() {\n        //this.headImg = null;\n        this.headName.string = tools.userName;\n        this.headRank.string = tools.userRank;\n    }\n\n    //设置关卡按钮\n    setLevelBtn() {\n        let spriteFrame = main.getInstant().mjAtlas.getSpriteFrame('s_wzmj_' + tools.level);\n        tools.desktopItemCount = tools.level * 9;\n        this.mjsprite.spriteFrame = spriteFrame;\n    }\n\n    static getInstant() {\n        if (gameStart.instant == null) {\n            gameStart.instant = new gameStart();\n        }\n        return gameStart.instant\n    }\n\n    hide() {\n        gameStart.instant.node.active = false;\n    }\n\n    show() {\n        gameStart.instant.node.active = true;\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}