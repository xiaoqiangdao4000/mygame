{"version":3,"sources":["file:///Users/zzx/Desktop/mygame/assets/scripts/gameStart.ts"],"names":["_decorator","Component","instantiate","Label","Node","Prefab","Sprite","tools","main","AudioManager","ccclass","property","gameStart","start","instant","i","node","rank_prefab","parent","contentNode","script","getComponent","initRank","userData","headIndex","userName","nickName","rank","setPosition","setUserData","setLevelBtn","inst","play","backMusic","headName","string","headRank","userRank","spriteFrame","getInstant","mjAtlas","getSpriteFrame","level","mjsprite","hide","active","show","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, instantiate, Label, Node, Prefab, Sprite, SpriteFrame } from 'cc';\nimport tools from './tools';\nimport { main } from './main';\nimport { AudioManager } from './audioManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('gameStart')\nexport class gameStart extends Component {\n\n    @property(Node)\n    contentNode: Node;\n\n    @property(Sprite)\n    mjsprite: Sprite;\n\n    @property(Prefab)\n    rank_prefab: Prefab | null = null;\n\n    @property(Sprite)\n    headImg: Sprite;\n\n    @property(Label)\n    headName: Label;\n\n    @property(Label)\n    headRank: Label;\n\n    static instant = null;\n\n    start() {\n        gameStart.instant = this;\n        for (let i = 0; i < 12; i++) {\n            let node = instantiate(this.rank_prefab);\n            node.parent = this.contentNode;\n            let script = node.getComponent(\"rankItem\");\n            script.initRank(tools.userData[i].headIndex, tools.userData[i].userName, tools.userData[i].nickName, tools.userData[i].rank);\n            node.setPosition(-300.256, i * -135);\n        }\n        //初始化用户数据\n        this.setUserData();\n        this.setLevelBtn();\n\n        AudioManager.inst.play(main.instant.backMusic);\n    }\n\n    //设置用户数据\n    setUserData() {\n        //this.headImg = null;\n        this.headName.string = tools.userName;\n        this.headRank.string = tools.userRank;\n    }\n\n    //设置关卡按钮\n    setLevelBtn() {\n        let spriteFrame = main.getInstant().mjAtlas.getSpriteFrame('mj_' + tools.level);\n        this.mjsprite.spriteFrame = spriteFrame;\n    }\n\n    static getInstant() {\n        if (gameStart.instant == null) {\n            gameStart.instant = new gameStart();\n        }\n        return gameStart.instant\n    }\n\n    hide() {\n        gameStart.instant.node.active = false;\n    }\n\n    show() {\n        gameStart.instant.node.active = true;\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}